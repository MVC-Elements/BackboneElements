!function(w){var PROPERTY_DELIMITER_CHARACTERS=[":","-","_"],registrationFunction=(document.registerElement||document.register).bind(document);if(void 0!==registrationFunction){var registerBackbone=function(e,t){var n=Object.create(HTMLElement.prototype);n.createdCallback=function(){var e=getAllProperties(this,this.attributes);this._content=getContentNodes(this),this.backboneElement=new t(extend({el:$(this),_content:this._content},e,!0)),this.backboneElement._content=this._content,this.backboneElement.attributes=e,extend(this,t,!1,!0)},n.attributeChangedCallback=function(){var e=getAllProperties(this,this.attributes);extend(this.backboneElement,e,!0),void 0!==this.backboneElement.attributeChanged&&"function"==typeof this.backboneElement.attributeChanged&&this.backboneElement.attributeChanged.apply(this.backboneElement,[e])},registrationFunction(e,{prototype:n})};document.registerBackbone=registerBackbone,void 0!==w.xtag&&(w.xtag.registerBackbone=registerBackbone);var extend=function(e,t,n,r){for(var o in t)(void 0===e[o]||n===!0)&&(e[o]="function"==typeof t[o]?r===!0?t[o].bind(e.backboneElement):t[o].bind(e):t[o]);return e},getContentNodes=function(e){for(var t=document.createElement("content");e.childNodes.length;)t.appendChild(e.childNodes[0]);return t},getAllProperties=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r],i=attributeNameToPropertyName(o.name);n[i]=parseAttributeValue(t[r].value)}return n._content=e._content,n},attributeNameToPropertyName=function(e){for(var t=e.replace("x-","").replace("data-",""),n=-1;-1!==(n=getNextDelimiterIndex(t));)t=t.slice(0,n)+t.charAt(n+1).toUpperCase()+t.slice(n+2,t.length);return t},getNextDelimiterIndex=function(e){for(var t=-1,n=0;n<PROPERTY_DELIMITER_CHARACTERS.length;n++){var r=PROPERTY_DELIMITER_CHARACTERS[n];if(t=e.indexOf(r),-1!==t)break}return t},parseAttributeValue=function(value){var regexp=/\{.*?\}/g,matches=value.match(regexp);return null!==matches&&void 0!==matches&&matches.length>0&&(value=eval(matches[0].replace("{","").replace("}",""))),value},getterSetter=function(e,t,n,r){Object.defineProperty?Object.defineProperty(e,t,{get:n,set:r}):document.__defineGetter__&&(e.__defineGetter__(t,n),e.__defineSetter__(t,r)),e["get"+t]=n,e["set"+t]=r}}}(window),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o});